<!DOCTYPE html>
<html>
<head>
    <title>Регистрация</title>
    <meta charset="utf-8" />
</head>
<body>
    <h1>Введите данные</h1>
    <form action="/register" method="post" name="registerForm">
        <label>Имя</label><br>
        <input type="text" name="userName" /><br><br>
        <label>Возраст</label><br>
        <input type="number" name="userAge" /><br><br>
        <div id='message' style='display:none; color:red'></div>
        <input type="submit" value="Отправить" />
    </form>

    <script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>
    <script>
      $("form").submit(function(e){
        e.preventDefault();

        var registerForm = document.forms["registerForm"];
        var userName = registerForm.elements["userName"].value;
        var userAge = registerForm.elements["userAge"].value;

        $.ajax({
          type: "POST",
          url: "/validate",
          data: JSON.stringify({"userName": userName, "userAge": userAge}),
          contentType: "application/json",
          dataType: "json",
          success: function(data){
            if(data){
              message(data);
              return;
            }

            message("Данные сохранены");
          },
        });
      });

      function message(message){
        var element = $("#message");

        if(!message){
            element.hide();
        }

        element.html(message);
        element.show();
      }

    </script>

</body>
</html>
